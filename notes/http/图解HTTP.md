### TCP/IP
>TCP/IP 是互联网相关的各类协议族的总称
- **TCP/IP 协议族按层次分别分为以下 4 层**：
  - 应用层、传输层、网络层和数据链路层
- 应用层
  - 应用层决定了向用户提供应用服务时通信的活动
  - TCP/IP 协议族内预存了各类通用的应用服务。比如，FTP、DNS、HTTP
- 传输层
  - 传输层对上层应用层，提供处于网络连接中的两台计算机之间的数据传输
  - 在传输层有两个性质不同的协议：TCP（Transmission Control Protocol，传输控制协议）和 UDP（User Data Protocol，用户数据报协议）
- 网络层（又名网络互连层）
  - 网络层用来处理在网络上流动的数据包。数据包是网络传输的最小数据单位
  - 与对方计算机之间通过多台计算机或网络设备进行传输时，网络层所起的作用就是在众多的选项内选择一条传输路线
- 链路层（又名数据链路层，网络接口层）
  - 用来处理连接网络的硬件部分。硬件上的范畴均在链路层的作用范围之内
- **TCP三次握手**
  - 用 TCP 协议把数据包送出去后，TCP不会对传送后的情况置之不理，它一定会向对方确认是否成功送达
  - 握手过程中使用了 TCP 的标志（flag） —— SYN（synchronize） 和ACK（acknowledgement）（同步和确认标志）
    - 发送端首先发送一个带 SYN 标志的数据包给对方。
    - 接收端收到后，回传一个带有 SYN/ACK 标志的数据包以示传达确认信息。
    - 最后，发送端再回传一个带 ACK 标志的数据包，代表“握手”结束
- **TCP四次挥手**
- **URI和URL**
   -  URI：统一资源标识符，URL：统一资源定位符；URL是URI的子集
   -  RFC标准：协议方案名://登录信息/服务器地址(ip/域名)/带层次的文件路径/查询字符串/片段标识符(#/,可选)
### HTTP使用方法
- **GET** ：获取资源
- **POST**：传输实体主体
- **PUT**：传输文件
  - 鉴于 HTTP/1.1 的 PUT 方法自身不带验证机制，任何人都可以上传文件 , 存在安全性问题，因此一般的 Web 网站不使用该方法。
- **HEAD**：获得报文首部
  - HEAD 方法和 GET 方法一样，只是不返回报文主体部分。用于确认URI 的有效性及资源更新的日期时间等。
- **DELETE**：删除文件
  - DELETE 方法用来删除文件，是与 PUT 相反的方法
- **OPTIONS**：询问支持的方法
- **TRACE**：追踪路径
  - 发送请求时，在 Max-Forwards 首部字段中填入数值，每经过一个服务器端就将该数字减 1，当数值刚好减到 0 时，就停止继续传输
  - TRACE 方法本来就不怎么常用，再加上它容易引发XST（Cross-Site Tracing，跨站追踪）攻击，通常就更不会用到了。
- **CONNECT**：要求用隧道协议连接代理
  - CONNECT 方法要求在与代理服务器通信时建立隧道，实现用隧道协议进行 TCP 通信。主要使用 SSL（Secure Sockets Layer，安全套接层）和 TLS（Transport Layer Security，传输层安全）协议把通信内容加 密后经网络隧道传输。
### HTTP报文
- **HTTP报文构成**
  1. 请求行/响应行
     - 请求方法 URL HTTP版本(GET /index.html HTTP1.1)/ 响应转态吗 原因短语 HTTP版本(200 ok HTTP1.1)
  2. 请求头/响应头
     - 一般有4种首部（通用首部、请求首部、响应首部和实体首部）
  3. 请求实体/响应实体 → 也叫报文主体
- **报文主体和实体主体的差异**
  - 报文
    - 是 HTTP 通信中的基本单位，由 8 位组字节流（octet sequence，其中 octet 为 8 个比特）组成，通过 HTTP 通信传输
  - 实体
    - 作为请求或响应的有效载荷数据（补充项）被传输，其内容由实体首部和实体主体组成
  - HTTP 报文的主体用于传输请求或响应的实体主体
  - 通常，报文主体等于实体主体。只有当传输中进行编码操作时，实体主体的内容发生变化，才导致它和报文主体产生差异
- **压缩传输的内容编码**
  - 内容编码指明应用在实体内容上的编码格式
  - 常用的内容编码有：
    - gzip（GNU zip）
    - compress（UNIX 系统的标准压缩）
    - deflate（zlib）
    - identity（不进行编码
### 返回结果的 HTTP 状态码

|  |类别     |原因短语  |
|---------|---------|---------|
|1XX     |信息性状态码       |接收的请求正在处理       |
|2XX     |成功状态码         |请求正常处理完毕         |
|3XX     |重定向状态码       |需要进行附加操作以完成请求|
|4XX     |客户端错误状态码   |服务器无法处理请求        |
|5XX     |服务器错误状态码   | 服务器处理请求出错       |

- **常用的14种状态码**
  - 200 OK：表示从客户端发来的请求在服务器端被正常处理了
  - 204 No Content：该状态码代表服务器接收的请求已成功处理，但在返回的响应报文中不含实体的主体部分
  - 206 Partial Content：表示客户端进行了范围请求，而服务器成功执行了这部分的GET 请求
  - 301 Moved Permanently：永久性重定向
  - 302 Found：临时性重定向
  - 303 See Other：和 302 状态码有着相同的功能
    - 该状态码表示由于请求对应的资源存在着另一个 URI，应使用 GET方法定向获取请求的资源
    - 303 状态码和 302 Found 状态码有着相同的功能，但 303 状态码明确表示客户端应当采用 GET 方法获取资源，这点与 302 状态码有区别
    - >当 301、302、303 响应状态码返回时，几乎所有的浏览器都会把POST 改成 GET，并删除请求报文内的主体，之后请求会自动再次发送。
    - > 301、302 标准是禁止将 POST 方法改变成 GET 方法的，但实际使用时大家都会这么做
  - 304 Not Modified：
    - 该状态码表示客户端发送附带条件的请求 2 时，服务器端允许请求访问资源，但未满足条件的情况。
    - 304 状态码返回时，不包含任何响应的主体部分。304 虽然被划分在 3XX 类别中，但是和重定向没有关系。
    - >2 附带条件的请求是指采用 GET 方法的请求报文中包含 If-Match，If-Modified-Since，If-None-Match，If-Range，If-Unmodified-Since 中任一首部
    - > 这个一般指服务端缓存
  - 307 Temporary Redirect：临时重定向
    - 尽管 302 标准禁止 POST 变换成 GET，但实际使用时大家并不遵守。
    - 307 会遵照浏览器标准，不会从 POST 变成 GET。
  - 400 Bad Request：表示请求报文中存在语法错误
  - 401 Unauthorized：表示发送的请求需要有通过 HTTP 认证（BASIC 认证、DIGEST 认证）的认证信息
    - 若之前已进行过 1 次请求，则表示用 户认证失败
  - 403 Forbidden：表明对请求资源的访问被服务器拒绝了
  - 404 Not Found：表明服务器上无法找到请求的资源
  - 500 Internal Server Error：表明服务器端在执行请求时发生了错误
  - 503 Service Unavailable：表明服务器暂时处于超负载或正在进行停机维护，现在无法处理请求
### 确保web安全的HTTPS