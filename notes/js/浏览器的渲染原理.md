### Chrome浏览器开启一个页面为什么有4个进程
- 进程和线程的关系
  - 线程是不能单独存在的，它是由进程来启动和管理的
  - 一个进程就是一个程序的运行实例。详细解释就是，启动一个程序的时候，操作系统会为该程序创建一块内存，用来存放代码、运行中的数据和一个执行任务的主线程，我们把这样的一个运行环境叫`进程`
  - 线程是依附于进程的，而进程中使用多线程并行处理能提升运算效率
  - 进程和线程之间的关系有以下 4 个特点
    1. 进程中的任意一线程执行出错，都会导致整个进程的崩溃
    2. 线程之间共享进程中的数据
    3. 当一个进程关闭之后，操作系统会回收进程所占用的内存
    4. 进程之间的内容相互隔离（如果进程之间需要进行数据的通信，就需要使用用于进程间通信（IPC）的机制）

#### 单进程浏览器时代

单进程浏览器是指浏览器的所有功能模块都是运行在同一个进程里

存在问题：
  - 不稳定
  - 不流畅
  - 不安全

#### 多进程浏览器时代

多进程很好的解决了单进程不稳定和不流畅的问题，同时通过`安全沙箱`解决了浏览器不安全的问题。Chrome 把插件进程和渲染进程锁在沙箱里面，这样即使在渲染进程或者插件进程里面执行了恶意程序，恶意程序也无法突破沙箱去获取系统权限

**最新的 Chrome 浏览器包括：1 个浏览器（Browser）主进程、1 个 GPU 进程、1 个网络（NetWork）进程、多个渲染进程和多个插件进程**

- `浏览器进程`: 主要负责界面显示、用户交互、子进程管理，同时提供存储等功能
- `渲染进程`: 核心任务是将 HTML、CSS 和 JavaScript 转换为用户可以与之交互的网页，排版引擎 Blink 和 JavaScript 引擎 V8 都是运行在该进程中，默认情况下，Chrome 会为每个 Tab 标签创建一个渲染进程。出于安全考虑，渲染进程都是运行在沙箱模式下
- `CPU进程`: 其实，Chrome 刚开始发布的时候是没有 GPU 进程的。而 GPU 的使用初衷是为了实现 3D CSS 的效果，只是随后网页、Chrome 的 UI 界面都选择采用 GPU 来绘制，这使得 GPU 成为浏览器普遍的需求。最后，Chrome 在其多进程架构上也引入了 GPU 进程
- `网路进程`: 主要负责页面的网络资源加载，之前是作为一个模块运行在浏览器进程里面的，直至最近才独立出来，成为一个单独的进程
- `插件进程`: 主要是负责插件的运行，因插件易崩溃，所以需要通过插件进程来隔离，以保证插件进程崩溃不会对浏览器和页面造成影响。

多进程造成的问题：`更高的资源占用`和`更复杂的体系架构`

未来：`面向服务的架构(SOA)`

- 单进程浏览器当时不可以采用安全沙箱？
  - 如果一个进程使用了安全沙箱之后，该进程对于操作系统的权限就会受到限制，比如不能对一些位置的文件进行读写操作，而这些权限浏览器主进程所需要的，所以安全沙箱是不能应用到浏览器主进程之上的
- iframe会创建多少个渲染进程
  - 一个iframe会创建一个渲染进程，`相同域名公共一个渲染进程`，tab标签也是如此；如果有多个iframe标签，且域名不同则会创建多个渲染标签
- Chrome输出的界面书图片为什么又可以选中文字等？
  - 点击鼠标选中文字的时候，这些消息会传递到渲染进程，渲染进程再合成选中文字的状态，然后更新图片！